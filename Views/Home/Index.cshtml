@{
  ViewData["Title"] = "Index";

  MainTable mainTable = (MainTable)ViewData["MainTable"];


}

<!doctype html>
<html>

<head>
  <script src="https://cdn.jsdelivr.net/npm/chart.js@2.8.0"></script>

  <title>Välfärdsstatistik</title>
  <img width="35%"
    src="https://valfardstatistik.files.wordpress.com/2020/06/cropped-loggavacc88lfacc88rdstatistik.png?w=750&h=334"><img>


  <style>


    .myChart{
      margin: 0;
    }
    .container{
      margin:0;
    }
    .flex-container {
      display: flex;
      flex-wrap: nowrap;

    }

    .flex-container>div {


      text-align: left !important;

    }

    .form-control {
      width: 280px;
    }

     /*----- Toggle Button -----*/
      .toggle-nav {
        display:none;
      }

      /*----- Menu -----*/
    
        .menu {
          width:100%;
          padding:10px 18px;
          box-shadow:0px 1px 1px rgba(0,0,0,0.15);
          border-radius:3px;
          @* background:#303030; *@
        }
      

      .menu ul {
        display:inline-block;
      }

      .menu li {
        margin:0px 50px 0px 0px;
        float:left;
        list-style:none;
        font-size:17px;
      }

      .menu li:last-child {
        margin-right:0px;
      }

      .menu a {
        text-shadow:0px 1px 0px rgba(0,0,0,0.5);
        color:#777;
        transition:color linear 0.15s;
      }

      .menu a:hover, .menu .current-item a {
        text-decoration:none;
        color:#66a992;
      }
      /*----- Responsive -----*/
      .wrap {
          width:90%;
        }
      

    .search-form input {
          width:120px;
        }
      

       .menu {
          position:relative;
          display:inline-block;
        }

        .menu ul.active {
          display:none;
        }

        .menu ul {
          width:100%;
          position:absolute;
          top:120%;
          left:0px;
          padding:10px 18px;
          box-shadow:0px 1px 1px rgba(0,0,0,0.15);
          border-radius:3px;
          background:#303030; 
        }

        .menu ul:after {
          width:0px;
          height:0px;
          position:absolute;
          top:0%;
          left:22px;
          content:'';
          transform:translate(0%, -100%);
          border-left:7px solid transparent;
          border-right:7px solid transparent;
          border-bottom:7px solid #303030;
        }

        .menu li {
          margin:5px 0px 5px 0px;
          float:none;
          display:block;
        }

        .menu a {
          display:block;
        }

        .toggle-nav {
          padding:20px;
          float:left;
          display:inline-block;
          box-shadow:0px 1px 1px rgba(0,0,0,0.15);
          border-radius:3px;
          background:#303030;
          text-shadow:0px 1px 0px rgba(0,0,0,0.5);
          color:#777;
          font-size:20px;
          transition:color linear 0.15s;
        }

        .toggle-nav:hover, .toggle-nav.active {
          text-decoration:none;
          color:#66a992;
        }

        .search-form {
          margin:12px 0px 0px 20px;
          float:left;
        }

        .search-form input {
          box-shadow:-1px 1px 2px rgba(0,0,0,0.1);
        }

}
  </style>
</head>

<body>

  <div class="flex-container">
    <div>


      <div class="form-group">

        @* <label for="TopProducer"><b> Topp producent</b></label> *@
        <select class="form-control" id="TopProducerSelectList">

          <option disabled selected value=""> -- Jämför alternativ -- </option>
          @foreach (var item in mainTable.ToppProducent)
          {
            <tr>
              <option value="@item.Belopp" id="TopProducerOptionId">@item.Namn</option>
            </tr>
          }

        </select>
        <button type="button" id="AddBtnTopp" class="btn btn-success">Lägg till Topp producent</button>

        @* <label for="exampleFormControlSelect1"><b> Nivå 1</b></label> *@
        <select class="form-control" id="Nivå1SelectList">
          <option disabled selected value=""> -- Jämför alternativ -- </option>
          @foreach (var item in mainTable.Nivå1)
          {
            <tr>
              <option value="@item.Belopp" id="Nivå1OptionId" class="@item.Nivå_1">@item.Namn</option>
            </tr>
          }
        </select>
        <button type="button" id="AddBtnNivå1" class="btn btn-success">Lägg till Nivå 1</button>
        @* <label for="exampleFormControlSelect1"><b> Nivå 2</b></label> *@
        <select class="form-control" id="Nivå2SelectList">
          <option disabled selected value=""> -- Jämför alternativ -- </option>
          @foreach (var item in mainTable.Nivå2)
          {
            <tr>
              <option value="@item.Belopp" id="Nivå2OptionId" class="@item.Nivå_2">@item.Namn</option>
            </tr>
          }
        </select>
        <button type="button" id="AddBtnNivå2" class="btn btn-success">Lägg till nivå 2</button>
        <button type="button" id="ClearBtn" class="btn btn-warning">Rensa</button>

      </div>
    </div>





    <canvas id="myChart">

    </canvas>
    <div>

 <nav class="menu">
      <ul class="active">
        <li class="current-item"><a href="/home/omoss">Om oss</a></li>
        <li><a href="/home/kalla">Källor</a></li>
        <li><a href="/home/definitioner">Definitioner Me</a></li>
        <li><a href="/home/bestallatjanster">Beställ tjänster</a></li>
      </ul>

      <a class="toggle-nav" href="#">&#9776;</a>
    </nav>
      <h1>Välfärdsstatistik</h1>
      <p contenteditable="true">Sveriges välfärdstjänster är fördelade mellan staten, kommunerna och regionerna. Dessa aktörer har skilda
        verksamhetsområden och redovisningssystem. Exempel på välfärdstjänster är äldreomsorg och sjukvård.
        Välfärd statistik sammanställer samtliga offentliga utgifter på en och samma plattform med syfte att ge
        en sammanhängande och förståelig helhetsbild av Sveriges offentliga utgifter. </p>
    </div>

  </div>


  </div>
  </div>
</body>
<script src="~/lib/jquery/dist/jquery.min.js"></script>
<script>

  var doughnutLabelNameArray = '';
  var doughnutValueArray = '';

  // Logic 



  // Start Initiate loaded Chart

  var ctx = document.getElementById('myChart').getContext('2d');
  // And for a doughnut chart
  var myDoughnutChart = new Chart(ctx, {
    type: 'doughnut',
    data: {
      datasets: [{
        data: [1],
        backgroundColor: [
          "yellow",
          "blue",
          "red",
          "orange",
      
          "green",
       
          "CornflowerBlue",
          "Cornsilk",
          "Crimson",
          "Cyan",
          "DarkBlue",
          "DarkCyan",
          "DarkGoldenRod",
          "DarkGray",
          "DarkGrey",
          "DarkGreen",
          "DarkKhaki",
          "DarkMagenta",
          "DarkOliveGreen",
          "DarkOrange",
          "DarkOrchid",
          "DarkRed",
          "DarkSalmon",
          "DarkSeaGreen",
          "DarkSlateBlue",
          "DarkSlateGray",
          "DarkSlateGrey",
          "DarkTurquoise",
          "DarkViolet",
          "DeepPink",
          "DeepSkyBlue",
          "DimGray",
          "DimGrey",
          "DodgerBlue",
          "FireBrick",
          "FloralWhite",
          "ForestGreen",
          "Fuchsia",
          "Gainsboro",
          "GhostWhite",
          "Gold",
          "GoldenRod",
          "Gray",
          "Grey",
          "Green",
          "GreenYellow",
          "HoneyDew",
          "HotPink",
          "IndianRed",
          "Indigo",
          "Ivory",
          "Khaki",
          "Lavender",
          "LavenderBlush",
          "LawnGreen",
          "LemonChiffon",
          "LightBlue",
          "LightCoral",
          "LightCyan",
          "LightGoldenRodYellow",
          "LightGray",
          "LightGrey",
          "LightGreen",
          "LightPink",
          "LightSalmon",
          "LightSeaGreen",
          "LightSkyBlue",
          "LightSlateGray",
          "LightSlateGrey",
          "LightSteelBlue",
          "LightYellow",
          "Lime",
          "LimeGreen",
          "Linen",
          "Magenta",
          "Maroon",
          "MediumAquaMarine",
          "MediumBlue",
          "MediumOrchid",
          "MediumPurple",
          "MediumSeaGreen",
          "MediumSlateBlue",
          "MediumSpringGreen",
          "MediumTurquoise",
          "MediumVioletRed",
          "MidnightBlue",
          "MintCream",
          "MistyRose",
          "Moccasin",
          "NavajoWhite",
          "Navy",
          "OldLace",
          "Olive",
          "OliveDrab",
          "Orange",
          "OrangeRed",
          "Orchid",
          "PaleGoldenRod",
          "PaleGreen",
          "PaleTurquoise",
          "PaleVioletRed",
          "PapayaWhip",
          "PeachPuff",
          "Peru",
          "Pink",
          "Plum",
          "PowderBlue",
          "Purple",
          "RebeccaPurple",
          "Red",
          "RosyBrown",
          "RoyalBlue",
          "SaddleBrown",
          "Salmon",
          "SandyBrown",
          "SeaGreen",
          "SeaShell",
          "Sienna",
          "Silver",
          "SkyBlue",
          "SlateBlue",
          "SlateGray",
          "SlateGrey",
          "Snow",
          "SpringGreen",
          "SteelBlue",
          "Tan",
          "Teal",
          "Thistle",
          "Tomato",
          "Turquoise",
          "Violet",
          "Wheat",
          "White",
          "WhiteSmoke",
          "Yellow",
          "YellowGreen"
        ],
        label: 'Dataset 1'
      }],
      labels: ['Välfärdsstatistik'


      ]
    },
    options: {
      responsive: true,
      plugins: {
        legend: {
          position: 'top',
        },
        title: {
          display: true,
          text: 'Välfärdsstatistik'
        },
      },
      animation: {
        animateScale: true,
        animateRotate: true
      }
    }
  });


  // Filter based on selected value in Topproducers

  document.getElementById("TopProducerSelectList").addEventListener("change", selectedValueChange);
  document.getElementById("Nivå1SelectList").addEventListener("change", selectedValueChange);
  document.getElementById("Nivå2SelectList").addEventListener("change", selectedValueChange);

  document.getElementById("AddBtnTopp").addEventListener("click", AddValueTopp);
  document.getElementById("AddBtnNivå1").addEventListener("click", AddValueNivå1);
  document.getElementById("AddBtnNivå2").addEventListener("click", AddValueNivå2);
  document.getElementById("ClearBtn").addEventListener("click", ClearValue);

  // On Change
  function selectedValueChange() {
  @* alert("Att fixa: Logik för när värden ändras i nivå 1 & 2") *@


      myDoughnutChart.update()
  }

  // On Add

  function AddValueTopp() {

    if ($('#TopProducerSelectList').find(":selected").attr('value') !== "") {

      myDoughnutChart.data.labels.push($('#TopProducerSelectList').find(":selected").text())
      myDoughnutChart.data.datasets[0].data.push(parseInt($('#TopProducerSelectList').find(":selected").attr('value')))

    }

    myDoughnutChart.update()
  }

  function AddValueNivå1() {

    if ($('#Nivå1SelectList').find(":selected").attr('value') !== "") {

      myDoughnutChart.data.labels.push($('#Nivå1SelectList').find(":selected").text())
      myDoughnutChart.data.datasets[0].data.push(parseInt($('#Nivå1SelectList').find(":selected").attr('value')))
    }

    myDoughnutChart.update()
  }

  function AddValueNivå2() {

    if ($('#Nivå2SelectList').find(":selected").attr('value') !== "") {

      myDoughnutChart.data.labels.push($('#Nivå2SelectList').find(":selected").text())
      myDoughnutChart.data.datasets[0].data.push(parseInt($('#Nivå2SelectList').find(":selected").attr('value')))


    }

    myDoughnutChart.update()
  }



  // On Clear

  function ClearValue() {
  @* alert("Rensar värden") *@

      myDoughnutChart.data.labels =["Välfärdsstatistik"];
    myDoughnutChart.data.datasets[0].data = [0];

    myDoughnutChart.update()
  }


jQuery(document).ready(function() {
        jQuery('.toggle-nav').click(function(e) {
          jQuery(this).toggleClass('active');
          jQuery('.menu ul').toggleClass('active');

          e.preventDefault();
        });
      });


</script>

</html>